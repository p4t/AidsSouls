"use strict";var _GAME;function switchButton(e,t){"false"===t?($("#"+e+"_button").prop("disabled",!1),$("#"+e+"_button").removeClass("disabled")):($("#"+e+"_button").prop("disabled",!0),$("#"+e+"_button").addClass("disabled"))}function openBonfire(){"none"===$("#bonfire").css("display")&&($("#w12").hide(),$("#rerunroll").hide(),$("#bonfire").show())}function showRNG(){$(".dice_wrapper").hasClass("is-flipped")?($("#mobsRNG, #bossRNG").fadeToggle("slow","linear"),$("#mobsRNGNumber, #bossRNGNumber").toggle(),$(".dice_wrapper").removeClass("is-flipped")):($("#mobsRNG, #bossRNG").toggle(),$("#mobsRNGNumber, #bossRNGNumber").fadeToggle("slow","linear"),$(".dice_wrapper").addClass("is-flipped"))}$.ajax({async:!1,type:"GET",global:!1,dataType:"json",url:"/activeGame.json",success:function(e){_GAME=e}}),console.log("GAME: "+_GAME),$(function(){$("#selectGame").on("change",function(){var e=document.getElementById("selectGame").value,t="/?mode=selectGame&game="+e;return console.log("ON CHANGE"),console.log("GAME: "+e),console.log("URL: "+t),t&&(window.location=t),!1})}),$("#aidsAJAXTest").click(function(){console.log("#aidsAJAXTest clicked"),switchButton("reroll","false"),switchButton("rerun","false"),$("#aidsAJAX").load("/aidscontent.ajax.php")}),$(document).ready(function(){var e=$("#status");$("li[contenteditable=true]").blur(function(){var t=$(this).attr("id"),o=$(this).text();$.post("edit.ajax.php",t+"="+o,function(t){""!==t&&(e.show(),e.text(t),setTimeout(function(){e.hide()},3e3))})})}),$(document).ready(function(){$("#btn").click(function(){var e=$("#status"),t=document.getElementById("ajax_mobs").value,o=document.getElementById("ajax_boss").value,s=document.getElementById("ajax_weapons").value;""===$.trim(t)&&""===$.trim(o)&&""===$.trim(s)?(e.show(),e.text("Mindestens 1 Feld ausfüllen!"),setTimeout(function(){e.hide()},3e3)):$.post("jquery_post.php",{mobs:t,boss:o,weapons:s},function(i,n){var a;""!==n&&(e.show(),e.text(i),setTimeout(function(){e.hide()},3e3)),$("#form")[0].reset(),""!==t?a=t:""!==o?a=o:""!==s&&(a=s),$("#"+i).append("<li>"+a+"</li>").children(":last").hide().fadeIn(2e3)})})}),$(document).ready(function(){$(".aidsListAjaxDel").click(function(){var e=$(this).data("value"),t=$(this).data("table");confirm("Are you sure want to delete?")&&$.ajax({type:"POST",url:"del.ajax.php",data:{ID:e,table:t},success:function(o){o&&$("li[id='table:"+t+":id:"+e+"']").fadeOut()}})})});var $reroll_button=$("#reroll_button"),$rerun_button=$("#rerun_button"),reroll_button_Orig="Roll",rerun_button_Orig="Rerun",sound_indicator="<i class='fas fa-music'></i>",audio_files=["fail","sadtrombone","dolphin","evillaugh","hagay","hahaha(nelson)","sadmusic","sadmusic2","zackgalifianakislaugh","Cheep_1","Cheep_2","IDidNotHitHer","JustAChickenCheep","TearingMeApartLisa","TommyLaugh_1","TommyLaugh_2","TommyLaugh_3","WhyWhyLisa","YouMustBeKidding","200Puls","badesalz1","badesalzWAS","draufdruecken","drecksack","gehtdicheinscheissdreckan","kotzinstreppenhaus","mimimi","mundstuhl","blamage","scheisse","schwarzerbildschirm","wernerflasche","richevanslaugh","alwayssunnybell","flanders","frieza","joker","presi1","presi2","presi3","presi4","presi5","presi6","presi7","rlmwhistle"];function ImageExist(e){var t=new Image;return t.src=e,0!==t.height}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function randomSoundEffect(){console.log(audio_files);var e=audio_files[getRandomInt(0,audio_files.length-1)];console.log(e),play_audio(e)}function play_audio(e){var t=document.getElementById("audio_"+e),o=$(".play");"shrine"===e?t.paused?(t.play(),o.html("&#10074;&#10074;"),console.log("Bonfire Play")):(t.pause(),o.html("&#9658;"),console.log("Bonfire Pause")):(t.play(),console.log("Event::Audio.started: "+e),$reroll_button.html(sound_indicator),$rerun_button.html(sound_indicator),switchButton("reroll","true"),t.onended=function(){console.log("Event::Audio.ended"),switchButton("reroll","false"),switchButton("rerun","false"),$reroll_button.html(reroll_button_Orig),$rerun_button.html(rerun_button_Orig),"dice"!==e&&"vader"!==e&&"epicsaxguy"!==e&&"superaids"!==e&&openBonfire()})}function stopAllAudio(){document.getElementById("audio").querySelectorAll("audio").forEach(function(e){e.pause()})}function stop_audio(){var e,t,o=document.getElementById("audio").querySelectorAll("audio");for(e=0;e<o.length;e++)(t=o[e]).currentTime>0&&(t.pause(),t.currentTime=0,$reroll_button.html(reroll_button_Orig),$rerun_button.html(rerun_button_Orig),console.log("Event::Audio.stopped.manually"))}function rerun(){var e=Math.floor(100*Math.random()+1),t=$("#bonfire"),o=$("#rerunroll"),s=$("#w12");"none"===o.css("display")?(s.hide(),t.hide(),o.show()):(o.hide(),t.show(),stop_audio(),switchButton("reroll","false")),7===e||77===e?(o.html("<img src='/img/EpicSaxGuy.gif' width='186' height='234' alt='Epic Sax Guy'> <br>"+e),"block"===o.css("display")&&(play_audio("epicsaxguy"),t.hide())):(o.html("¯\\_(ツ)_/¯ <br>"+e),"block"===o.css("display")&&(randomSoundEffect(),t.hide()))}function reload_page(){location.reload()}function reroll(){$(document).ready(function(){var e;console.log("reroll::button.clicked"),play_audio("aids"),document.getElementById("audio_aids").onended=function(){switchButton("reroll","false"),switchButton("rerun","false"),clearTimeout(e),console.log("Timeout reset"),console.log("reroll::ajax.reload"),$("#aidsAJAX").load("/aidscontent.ajax.php"),console.log("reroll::ajax.reload.finished")},e=setTimeout(function(){console.log("Audio didn't start playing, refresh on Timeout"),switchButton("reroll","false"),switchButton("rerun","false"),$("#aidsAJAX").load("/aidscontent.ajax.php")},5e3)})}function replaceAidsWithX(){$("#mobsRNG, #bossRNG, #mobsAids, #bossAids, #mobsRNGNumber, #bossRNGNumber").html("&times;")}function run(){var e=Math.floor(100*Math.random()+1),t=$("#bonfire"),o=$("#rerunroll");console.log("run_rnd:"+e),$("#rerun_switch_button").prop("title",e),1===e||100===e?"block"===t.css("display")&&(t.hide(),o.show().html("<img src='/img/vader.jpg' width='323' height='203' alt='Vader'> <br>"+e),replaceAidsWithX(),$("html").css("background-image","url(/img/bg/kevin.jpg)"),play_audio("vader")):66===e?(t.hide(),o.show().html("<img src='/img/curse.png' width='384' height='320' alt='Curse Basilisk'> <br>"),play_audio("superaids")):99===e&&(t.hide(),o.show().html("SUPERAIDS <br>"+e),play_audio("superaids"))}$(".custom-select").each(function(){var e=$(this).attr("class"),t=($(this).attr("id"),$(this).attr("name"),'<div class="'+e+'">');t+='<span class="custom-select-trigger">'+$(this).attr("placeholder")+"</span>",t+='<div class="custom-options">',$(this).find("option").each(function(){t+='<span class="custom-option '+$(this).attr("class")+'" data-value="'+$(this).attr("value")+'">'+$(this).html()+"</span>"}),t+="</div></div>",$(this).wrap('<div class="custom-select-wrapper"></div>'),$(this).hide(),$(this).after(t)}),$(".custom-option:first-of-type").hover(function(){$(this).parents(".custom-options").addClass("option-hover")},function(){$(this).parents(".custom-options").removeClass("option-hover")}),$(".custom-select-trigger").on("click",function(){$("html").one("click",function(){$(".custom-select").removeClass("opened"),$("#dice_switch_button").text($("#dice_dropdown").val()),pickimg()}),$(this).parents(".custom-select").toggleClass("opened"),$("#rerunroll").hide(),$("#w12").hide(),$("#bonfire").show(),event.stopPropagation()}),$(".custom-option").on("click",function(){$(this).parents(".custom-select-wrapper").find("select").val($(this).data("value")),$(this).parents(".custom-options").find(".custom-option").removeClass("selection"),$(this).addClass("selection"),$(this).parents(".custom-select").removeClass("opened"),$(this).parents(".custom-select").find(".custom-select-trigger").text($(this).text())}),$(document).ready(function(){$("select#dice_dropdown").change(function(){"W6"!=$(this).val()||$("#dice_switch_button").text("W6")}),$("select[id='dice_dropdown']").change(function(){"W12"!=$(this).val()||$("#dice_switch_button").text("W12")}),$("select[id='dice_dropdown']").change(function(){"W20"!=$(this).val()||$("#dice_switch_button").text("W20")}),$("select[id='dice_dropdown']").change(function(){"W30"!=$(this).val()||$("#dice_switch_button").text("W30")}),$("#dice_switch").change(function(){$("#dice_switch").is(":checked")?$("#dice_switch_button").text("W20"):$("#dice_switch_button").text("W12")}),$("#rerun_switch").change(function(){$("#rerun_switch").is(":checked")?$("#rerun_switch_button").text("Rerun?"):$("#rerun_switch_button").text("Run")}),$("#reroll_switch").change(function(){$("#reroll_switch").is(":checked")?$("#reroll_switch_button").text("-((()))"):$("#reroll_switch_button").text("Roll")})}),$(document).ready(function(){var e,t;$.ajax({async:!1,type:"GET",global:!1,dataType:"json",url:"/autocomplete/aids.php",success:function(t){e=t}}),$.ajax({async:!1,type:"GET",global:!1,dataType:"json",url:"/autocomplete.jQuery.php",success:function(e){t=e}}),console.log("availableTagsMobsBoss: "+e),console.log("----"),console.log("availableTagsWeapons: "+t),$("input[data-jQAutocomplete=mobs], input[data-jQAutocomplete=boss]").autocomplete({minLength:0,source:e}),$("input[data-jQAutocomplete=weapons]").autocomplete({minLength:0,source:t}),$("li[data-autocomplete=weapons]").autocomplete({minLength:0,source:t}),$("li[data-autocomplete=mobs], li[data-autocomplete=boss]").autocomplete({minLength:0,source:e})});var stats,dice=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"];function getRandomInt(e,t){return"W6"===$("#dice_dropdown option:selected").text()&&(t=6),Math.floor(Math.random()*(t-e+1))+e}function pickimg(){var e,t=$("#bonfire"),o=$("#rerunroll"),s=$("#w12"),i=$("#dice_dropdown"),n=$("#randomDiceOut"),a=$("#dice_h2");"none"===s.css("display")?(s.show(),t.hide(),o.hide(),stop_audio(),play_audio("dice")):(play_audio("dice"),n.addClass("flip-scale-up-diag-1").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("flip-scale-up-diag-1")}));var l=!1;"W1"===i.val()?(e=stats,a.text("Stats"),l=!0):"W6"===i.val()?(e=dice.slice(0,6),a.html("W6")):"W12"===i.val()?(e=dice.slice(0,12),a.text("W12")):"W20"===i.val()?(e=dice.slice(0,20),a.text("W20")):"W30"===i.val()&&(e=dice.slice(0,30),a.text("W30"));var c=e[getRandomInt(0,e.length-1)];!0===l?(n.addClass("stat"),n.html(" <div><img src='/img/stats/"+_GAME+"/"+c+".png' alt='"+c+"'></div><div>"+c+"</div> ")):(n.hasClass("stat")&&n.removeClass("stat"),n.text(c)),console.log("diceRND: "+e),console.log("src: "+c)}$.ajax({async:!1,type:"GET",global:!1,dataType:"json",url:"/stats.inc.php",success:function(e){stats=e}}),console.log("stats: "+stats);